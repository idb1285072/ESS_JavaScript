<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Employee SPA with File Upload, Auto ID & LocalStorage</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="container my-4">
      <h1 class="mb-4">Employee Management SPA</h1>
      <nav>
        <button class="btn btn-primary me-2" onclick="navigateTo('insert')">
          Insert Employee
        </button>
        <button class="btn btn-secondary" onclick="navigateTo('display')">
          Display Employees
        </button>
      </nav>

      <!-- Insert Page -->
      <div id="insert" class="page active mt-4">
        <h3>Insert New Employee</h3>
        <form id="insertForm" enctype="multipart/form-data">
          <div class="mb-3">
            <label class="form-label">Employee ID</label>
            <input
              type="text"
              id="employeeIdDisplay"
              class="form-control"
              readonly
            />
          </div>
          <div class="mb-3">
            <label for="employeeName" class="form-label">Employee Name</label>
            <input
              type="text"
              id="employeeName"
              class="form-control"
              required
            />
          </div>
          <div class="mb-3">
            <label for="joinDate" class="form-label">Join Date</label>
            <input type="date" id="joinDate" class="form-control" required />
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" id="isMarried" class="form-check-input" />
            <label for="isMarried" class="form-check-label">Is Married</label>
          </div>
          <div class="mb-3">
            <label for="salary" class="form-label">Salary</label>
            <input
              type="number"
              id="salary"
              class="form-control"
              required
              min="0"
            />
          </div>
          <div class="mb-3">
            <label for="picture" class="form-label">Picture</label>
            <input
              type="file"
              id="picture"
              class="form-control"
              accept="image/*"
              required
            />
          </div>
          <button type="submit" class="btn btn-success">Add Employee</button>
        </form>
      </div>

      <!-- Display Page -->
      <div id="display" class="page mt-4">
        <h3>Employee List</h3>
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Picture</th>
              <th>Employee ID</th>
              <th>Name</th>
              <th>Join Date</th>
              <th>Married</th>
              <th>Salary</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="employeeTableBody"></tbody>
        </table>
      </div>

      <!-- Update Page -->
      <div id="update" class="page mt-4">
        <h3>Update Employee</h3>
        <form id="updateForm" enctype="multipart/form-data">
          <input type="hidden" id="updateIndex" />
          <div class="mb-3">
            <label for="updateEmployeeId" class="form-label">Employee ID</label>
            <input
              type="text"
              id="updateEmployeeId"
              class="form-control"
              readonly
            />
          </div>
          <div class="mb-3">
            <label for="updateEmployeeName" class="form-label"
              >Employee Name</label
            >
            <input
              type="text"
              id="updateEmployeeName"
              class="form-control"
              required
            />
          </div>
          <div class="mb-3">
            <label for="updateJoinDate" class="form-label">Join Date</label>
            <input
              type="date"
              id="updateJoinDate"
              class="form-control"
              required
            />
          </div>
          <div class="mb-3 form-check">
            <input
              type="checkbox"
              id="updateIsMarried"
              class="form-check-input"
            />
            <label for="updateIsMarried" class="form-check-label"
              >Is Married</label
            >
          </div>
          <div class="mb-3">
            <label for="updateSalary" class="form-label">Salary</label>
            <input
              type="number"
              id="updateSalary"
              class="form-control"
              required
              min="0"
            />
          </div>
          <div class="mb-3">
            <label for="updatePicture" class="form-label"
              >Picture (Leave empty to keep current)</label
            >
            <input
              type="file"
              id="updatePicture"
              class="form-control"
              accept="image/*"
            />
            <div class="mt-2">
              <img
                id="updatePicturePreview"
                src=""
                alt="Current Picture"
                class="employee-pic"
              />
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Update Employee</button>
          <button
            type="button"
            class="btn btn-secondary ms-2"
            onclick="navigateTo('display')"
          >
            Cancel
          </button>
        </form>
      </div>
    </div>

    <script src="./script.js"></script>
  </body>
</html>
